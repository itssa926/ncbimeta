% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/standardize_ncbi_metadata.R
\name{standardize_ncbi_metadata}
\alias{standardize_ncbi_metadata}
\title{Standardize NCBI metadata for phylogenetics}
\usage{
standardize_ncbi_metadata(
  df,
  date_col = "date",
  country_col = "country",
  label_cols = NULL,
  label_col_name = "label",
  label_sep = "|",
  na_token = "None",
  sanitize_label_fields = TRUE
)
}
\arguments{
\item{df}{A data.frame/tibble with NCBI-derived metadata.}

\item{date_col}{Name of the date column in \code{df}.}

\item{country_col}{Name of the country/location column in \code{df}.}

\item{label_cols}{Columns used to build the tree label (tidyselect). If NULL, uses a default set.}

\item{label_col_name}{Output label column name (default "label").}

\item{label_sep}{Separator for label (default "|").}

\item{na_token}{Token used for missing values in label/sanitization (default "None").}

\item{sanitize_label_fields}{Logical; if TRUE, sanitize each label field via \code{make_tree_safe()}.}
}
\value{
A tibble with standardized metadata columns added.
}
\description{
Pipeline:
\enumerate{
\item Clean bracket wrappers across metadata (\code{clean_metadata_brackets()})
\item Standardize dates (\code{standardize_date()}) -> adds date_std/date_granularity/date_unmatched
\item Standardize countries (\code{standardize_country()}) -> adds country_clean/country_std/iso2c/iso3c
\item Create a tree-safe country label (\code{country_tailored})
\item Build a tree label column joined by \code{|} (\code{build_tree_label()})
}
}
